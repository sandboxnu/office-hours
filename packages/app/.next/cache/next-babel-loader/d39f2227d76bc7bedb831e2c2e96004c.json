{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { API } from \"@koh/api-client\";\nimport { Button, Result } from \"antd\";\nimport Router from \"next/router\";\nimport useSWR from \"swr\";\nimport { useDefaultCourseRedirect } from \"../hooks/useDefaultCourseRedirect\";\nexport default function NoCourses() {\n  useDefaultCourseRedirect();\n\n  var _useSWR = useSWR(\"/api/v1/courses/self_enroll_courses\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", API.course.selfEnrollCourses());\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }))),\n      data = _useSWR.data;\n\n  return __jsx(\"div\", null, __jsx(Result, {\n    status: \"info\",\n    title: \"None of your courses are using the Khoury Office Hours App.\",\n    subTitle: \"Please reach out to your course coordinator or professor if you expected your course to be here.\"\n  }), (data === null || data === void 0 ? void 0 : data.courses.length) > 0 ? __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, \"One of our data sources for student-enrollment is currently experiencing an outage. If you think you belong to a class, please click on your corresponding class below.\", __jsx(\"div\", null, data === null || data === void 0 ? void 0 : data.courses.map(function (course, i) {\n    return __jsx(Button, {\n      key: i,\n      onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return API.course.createSelfEnrollOverride(course.id);\n\n              case 2:\n                Router.push(\"/login\");\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))\n    }, course.name);\n  }))) : null);\n}","map":{"version":3,"sources":["/home/runner/work/office-hours/office-hours/packages/app/pages/nocourses.tsx"],"names":["API","Button","Result","Router","useSWR","useDefaultCourseRedirect","NoCourses","course","selfEnrollCourses","data","courses","length","textAlign","map","i","createSelfEnrollOverride","id","push","name"],"mappings":";;;;AAAA,SAASA,GAAT,QAAoB,iBAApB;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,MAA/B;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAOC,MAAP,MAAmB,KAAnB;AACA,SAASC,wBAAT,QAAyC,mCAAzC;AAEA,eAAe,SAASC,SAAT,GAAmC;AAChDD,EAAAA,wBAAwB;;AADwB,gBAG/BD,MAAM,CAAC,qCAAD,wEAAwC;AAAA;AAAA;AAAA;AAAA;AAAA,6CAC7DJ,GAAG,CAACO,MAAJ,CAAWC,iBAAX,EAD6D;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxC,GAHyB;AAAA,MAGxCC,IAHwC,WAGxCA,IAHwC;;AAOhD,SACE,mBACE,MAAC,MAAD;AACE,IAAA,MAAM,EAAC,MADT;AAEE,IAAA,KAAK,EAAC,6DAFR;AAGE,IAAA,QAAQ,EAAC;AAHX,IADF,EAMG,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEC,OAAN,CAAcC,MAAd,IAAuB,CAAvB,GACC;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb;AAAZ,gLAIE,mBACGH,IADH,aACGA,IADH,uBACGA,IAAI,CAAEC,OAAN,CAAcG,GAAd,CAAkB,UAACN,MAAD,EAASO,CAAT,EAAe;AAChC,WACE,MAAC,MAAD;AACE,MAAA,GAAG,EAAEA,CADP;AAEE,MAAA,OAAO,wEAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACDd,GAAG,CAACO,MAAJ,CAAWQ,wBAAX,CAAoCR,MAAM,CAACS,EAA3C,CADC;;AAAA;AAEPb,gBAAAA,MAAM,CAACc,IAAP,CAAY,QAAZ;;AAFO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;AAFT,OAOGV,MAAM,CAACW,IAPV,CADF;AAWD,GAZA,CADH,CAJF,CADD,GAqBG,IA3BN,CADF;AA+BD","sourcesContent":["import { API } from \"@koh/api-client\";\nimport { Button, Result } from \"antd\";\nimport Router from \"next/router\";\nimport { ReactElement } from \"react\";\nimport useSWR from \"swr\";\nimport { useDefaultCourseRedirect } from \"../hooks/useDefaultCourseRedirect\";\n\nexport default function NoCourses(): ReactElement {\n  useDefaultCourseRedirect();\n\n  const { data } = useSWR(\"/api/v1/courses/self_enroll_courses\", async () =>\n    API.course.selfEnrollCourses()\n  );\n\n  return (\n    <div>\n      <Result\n        status=\"info\"\n        title=\"None of your courses are using the Khoury Office Hours App.\"\n        subTitle=\"Please reach out to your course coordinator or professor if you expected your course to be here.\"\n      />\n      {data?.courses.length > 0 ? (\n        <div style={{ textAlign: \"center\" }}>\n          One of our data sources for student-enrollment is currently\n          experiencing an outage. If you think you belong to a class, please\n          click on your corresponding class below.\n          <div>\n            {data?.courses.map((course, i) => {\n              return (\n                <Button\n                  key={i}\n                  onClick={async () => {\n                    await API.course.createSelfEnrollOverride(course.id);\n                    Router.push(\"/login\");\n                  }}\n                >\n                  {course.name}\n                </Button>\n              );\n            })}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}